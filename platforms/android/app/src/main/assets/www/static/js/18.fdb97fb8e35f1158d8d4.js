webpackJsonp([18],{"F+w2":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("7+uW");var o=a("Manl"),s=a.n(o),n={data:function(){return{myFriendList:[],headImg:s.a,topChangeText:{pulling:"下拉刷新",limit:"释放刷新",loading:"正在刷新...",complete:"  "},bottomChangeText:{loading:"正在加载更多...",nodata:"暂无更多数据",error:"请求数据出错，请点击重试"}}},beforeRouteLeave:function(t,e,a){if("Detail"===t.name){var o=this.$refs.vueLoad.getScrollTop();sessionStorage.setItem("listScrollTop",o)}else sessionStorage.removeItem("listScrollTop");a()},activated:function(){var t=sessionStorage.getItem("listScrollTop");null==t?console.log("不需要缓存的页面"):this.$refs.vueLoad.setScrollTop(t)},created:function(){this.$store.state.headertitle="好友列表",this.$store.state.isShowheader=!0,this.$store.state.isback=1,this.getData(1),this.page=1},methods:{getData:function(t){var e=this;1==t&&this.page;var a=this.$store.state.httpurl+"wap/user/childUserList?page="+t;this.$http.get(a).then(function(a){"y"==a.data.status&&a.data.info&&a.data.info.length>0&&(1==t?(e.myFriendList=a.data.info,e.$refs.vueLoad.onTopLoaded(0),e.page++):(e.myFriendList=e.myFriendList.concat(a.data.info),e.$refs.vueLoad.onBottomLoaded(),e.page++),void 0!=a.data.info.head_img&&(e.headImg=e.$store.state.httpurl+"public/wap/"+a.data.info.head_img)),e.$refs.vueLoad.onTopLoaded(0),e.$refs.vueLoad.onBottomLoaded(),e.$loading.close()}).catch(function(t){e.$loading.close(),e.$toast.center("连接超时")})},handleTop:function(){this.page=1,this.getData(this.page)},handleBottom:function(){this.getData(this.page)},handleStatusChange:function(t){console.log(t,"statuschange")},handleBottomStatusChange:function(t){console.log(t,"bottomchange")},handleBottomError:function(){this.handleBottom()}}},i={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{ref:"bscroll",staticClass:"refScrolldiv marginHeader"},[o("garen-loadmore",{ref:"vueLoad",attrs:{"top-change-text":t.topChangeText,"bottom-change-text":t.bottomChangeText,"disable-top":!1,"disable-bottom":!1},on:{"top-method":t.handleTop,"top-status-change":t.handleStatusChange,"bottom-method":t.handleBottom,"bottom-status-change":t.handleBottomStatusChange,"bottom-error-click":t.handleBottomError}},[t.myFriendList.length>0?o("div",t._l(t.myFriendList,function(e,a){return o("div",{key:a,staticClass:"myFriendList"},[o("div",{staticClass:"myFriendItem"},[o("span",[o("img",{attrs:{src:t.headImg}}),t._v("\n                    "+t._s(e.user_info&&e.user_info.true_name)+"\n                ")]),t._v(" "),o("span",[t._v(t._s(e.mobile))]),t._v(" "),o("span",{staticClass:"time"},[t._v(t._s(e.create_time))]),t._v(" "),1==e.user_info.is_realname?o("span",[t._v("已认证")]):t._e(),t._v(" "),1!=e.user_info.is_realname?o("span",[t._v("未认证")]):t._e()])])})):o("div",{staticClass:"nodata"},[o("div",[o("img",{attrs:{src:a("dBmM")}})]),t._v(" "),o("div",[t._v("暂无数据")])])])],1)},staticRenderFns:[]};var r=a("VU/8")(n,i,!1,function(t){a("s3+T")},"data-v-41a4b6a7",null);e.default=r.exports},"s3+T":function(t,e){}});