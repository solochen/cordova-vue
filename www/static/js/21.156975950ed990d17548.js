webpackJsonp([21],{H64d:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=e("U1ku"),s=(e("7+uW"),e("U7mS")),o=e.n(s),n=e("V11h"),r=e.n(n),c=(a.a,{data:function(){return{type:0,to_user_id:0,to_pay_user:null,pay_money:131,icon_photo:r.a,to_icon_photo:"",index:0,confirmOptions:[],remark:""}},components:{dpromise:a.a},created:function(){this.type=this.$route.query.type,this.to_user_id=this.$route.query.user_id,this.$store.state.headertitle="付款信息",this.$store.state.isShowheader=!0,this.$store.state.isback=1,this.index=this.$route.query.index,this.getData()},methods:{upload:function(t){var i=this,e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("style","visibility:hidden"),document.body.appendChild(e),e.click(),e.onchange=function(){return i.uploadFile(t,e.files[0],function(t){e.remove()})}},uploadFile:function(t,i,e){var a=this;o()(i,{width:360}).then(function(t){a.$loading.open("loading...");var i=a.$store.state.httpurl+"wap/index/uploadImg";a.$http.post(i,t.formData).then(function(t){a.icon_photo=a.$store.state.httpurl+"public/wap/"+t.data,a.to_icon_photo=t.data,a.$loading.close()}).catch(function(t){a.$loading.close(),a.$toast.center("连接超时")})})},getData:function(){var t=this;this.$loading.open("loading...");var i=this.$store.state.httpurl+"wap/user/payInfo?type="+this.type+"&to_user_id="+this.to_user_id+"&index="+this.index;this.$http.get(i).then(function(i){"y"==i.data.status?(t.to_pay_user=i.data.info,null!=i.data.info.prove_img&&(t.icon_photo=t.$store.state.httpurl+"public/wap/"+i.data.info.prove_img,t.to_icon_photo=i.data.info.prove_img)):t.$toast.center(i.data.info),t.$loading.close()}).catch(function(i){t.$loading.close(),t.$toast.center("连接超时")})},submitPay:function(){var t=this;""!=this.to_icon_photo?(this.$refs.myConfirm.showModel(),this.confirmOptions={type:"warning",title:"备注",message:"<div class='remark'>备注</div><br/><div><input ref='remark' placeholder='请输入付款人姓名' class='remark_input' type=''/></div>",btnCancelText:"取消",btnSubmitText:"确定",btnSubmitFunction:function(){t.$loading.open("loading..."),t.remark=$(".remark_input").val();var i=t.$store.state.httpurl+"wap/user/runPayInfo",e="to_user_id="+t.to_user_id+"&prove_img="+t.to_icon_photo+"&type="+t.type+"&index="+t.index+"&remark="+t.remark;t.$http.post(i,e).then(function(i){"y"==i.data.status&&history.back(0),t.$toast.center(i.data.info),t.$loading.close()}).catch(function(i){t.$loading.close(),t.$toast.center("连接超时")})},btnCancelFunction:function(){}}):this.$toast.center("请上传图片")}}}),p={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"refScrolldiv marginHeader"},[e("div",[null!=t.to_pay_user?e("div",{staticClass:"payInfo"},[e("span",{staticClass:"title"},[t._v("借款人信息")]),t._v(" "),e("div",{staticClass:"payInfo-list"},[e("div",{staticClass:"payInfo-item"},[e("div",{staticClass:"payInfo-item-1"},[t._v("姓名： "+t._s(t.to_pay_user.true_name)+" ")])]),t._v(" "),e("div",{staticClass:"payInfo-item"},[e("div",{staticClass:"payInfo-item-1"},[t._v("身份证： "+t._s(t.to_pay_user.card_id)+" ")])])]),t._v(" "),e("div",{staticClass:"payInfo-list paymentType"},[e("div",{staticClass:"payInfo-item"},[e("div",{staticClass:"payInfo-item-1"},[e("img",{attrs:{src:t.$store.state.httpurl+"/public/wap/"+t.to_pay_user.payment_img}})]),t._v(" "),e("div",[t._v("付款二维码")]),t._v(" "),e("div",[t._v("微信账号 "),e("span",[t._v(t._s(t.to_pay_user.account))])]),t._v(" "),e("div",[t._v("付款金额 "),e("span",[t._v(t._s(t.pay_money))]),t._v("元")])])])]):t._e(),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"uploadPayInfo upload"},[e("div",{on:{click:function(i){t.upload()}}},[e("div",{staticClass:"paymentFormItem_1"},[e("div",{staticClass:"paymentFormItem_1_img"},[e("img",{attrs:{src:t.icon_photo}})])]),t._v(" "),e("div",{staticClass:"paymentFormItem_2"},[t._v("\n                    点击上传付款截图\n                ")])]),t._v(" "),e("div",{staticClass:"submitButton",on:{click:function(i){t.submitPay()}}},[t._v("我已付款")])])]),t._v(" "),e("dpromise",{ref:"myConfirm",staticClass:"myConfirm",attrs:{confirmModalOptions:t.confirmOptions}})],1)},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("span",{staticClass:"title"},[this._v("请使用微信App,扫描以上二维码付款131.0元，"),i("span",[this._v("付款时在微信或支付宝订单备注您平台认证的姓名")])])}]};var d=e("VU/8")(c,p,!1,function(t){e("kk2+")},"data-v-2b8ee1fe",null);i.default=d.exports},"kk2+":function(t,i){}});