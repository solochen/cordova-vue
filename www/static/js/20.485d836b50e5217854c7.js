webpackJsonp([20],{"8iRt":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={data:function(){return{islogin:!0,phoneMess:"获取验证码",times:120,mobile:"",pwd:"",phone_code:""}},created:function(){this.$store.state.headertitle="忘记密码",this.$store.state.isShowheader=!1,this.$store.state.isback=0},watch:{pwd:function(t,e){""!=t&&""!=this.mobile?this.islogin=!1:this.islogin=!0},mobile:function(t,e){""!=t&&""!=this.pwd?this.islogin=!1:this.islogin=!0}},methods:{forgetPassword:function(){var t=this;if(!/^1[3456789]\d{9}$/.test(this.mobile))return this.$toast.center("输入正确手机号码！"),!1;var e=this.$store.state.httpurl+"wap/register/forgetPassword",s="mobile="+this.mobile+"&pwd="+this.pwd+"&yqcode="+this.yqcode+"&phoneCode="+this.phone_code;this.$http.post(e,s).then(function(e){"y"==e.data.status&&(t.$store.state.isLogin=!0,t.$store.state.loginPhone=t.mobile,t.$router.push({path:"/"})),t.$toast.center(e.data.info),t.$loading.close()}).catch(function(e){t.$loading.close(),t.$toast.center("连接超时")})},toLogin:function(){this.$router.push({path:"/login"})},postmess:function(){var t=this;if(!this.isclick)if(/^1[3456789]\d{9}$/.test(this.mobile)){this.setTimes();var e=this.$store.state.httpurl+"wap/login/smsSend",s="mobile="+this.mobile;this.$http.post(e,s).then(function(e){"y"==e.data.status&&t.$toast.center(e.data.msg),t.infocont=e.data}).catch(function(e){t.$toast.center("连接超时")})}else this.$toast.center("输入正确手机号码！")},setTimes:function(){var t=this;this.$store.state.Timeout=setInterval(function(){t.times>0?(t.times--,t.phoneMess="过"+t.times+"可重新获取",t.isclick=!0):(t.times=120,clearInterval(t.$store.state.Timeout),t.isclick=!1,t.phoneMess="获取验证码")},1e3)}}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login"},[s("div",{staticClass:"login-form"},[s("div",{staticClass:"login-form-1"},[t._v("忘记密码")]),t._v(" "),s("div",{staticClass:"login-form-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.mobile,expression:"mobile"}],attrs:{type:"text",value:"",placeholder:"请输入您的手机号"},domProps:{value:t.mobile},on:{input:function(e){e.target.composing||(t.mobile=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"login-form-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.phone_code,expression:"phone_code"}],attrs:{type:"text",value:"",placeholder:"请输入验证码"},domProps:{value:t.phone_code},on:{input:function(e){e.target.composing||(t.phone_code=e.target.value)}}}),t._v(" "),s("span",{staticClass:"getCode",class:6==t.times?"blueTest":"redTest",on:{click:t.postmess}},[t._v(t._s(t.phoneMess))])]),t._v(" "),s("div",{staticClass:"login-form-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.pwd,expression:"pwd"}],attrs:{type:"password",value:"",placeholder:"密码"},domProps:{value:t.pwd},on:{input:function(e){e.target.composing||(t.pwd=e.target.value)}}})]),t._v(" "),s("div",{class:{nologin:t.islogin,"login-form-4":!0},on:{click:function(e){t.forgetPassword()}}},[t._v("\n            确定\n        ")])]),t._v(" "),s("div",{staticClass:"register",on:{click:function(e){t.toLogin()}}},[t._v("\n        快速登陆\n    ")])])},staticRenderFns:[]};var n=s("VU/8")(i,o,!1,function(t){s("wHTb")},"data-v-2c20ae26",null);e.default=n.exports},wHTb:function(t,e){}});